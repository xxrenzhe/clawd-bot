---
title: "Moltbot API Integration: Build Custom Clients [2026]"
description: "Integrate Moltbot API into apps. REST endpoints, authentication, request/response formats, rate limiting, and client examples."
pubDate: 2026-01-27
modifiedDate: 2026-01-29
category: "Advanced"
tags: ["moltbot","clawdbot","api","integration","webhooks","rest"]
keywords: ["moltbot api","clawdbot api integration","moltbot rest api","api client","moltbot webhooks", "openclaw"]
readingTime: 9
featured: false
author: "Moltbot Team"
image: "/images/articles/clawdbot-api-integration.jpg"
imageAlt: "Moltbot API Integration"
articleType: "TechArticle"
difficulty: "advanced"
sources:
  - "https://docs.molt.bot/"
  - "https://github.com/moltbot/moltbot"
relatedArticles:
  - "clawdbot-self-hosting"
  - "clawdbot-function-calling"
  - "clawdbot-streaming-responses"
---
import HostingCTA from '../../components/CTA/HostingCTA.astro';

# Moltbot API Integration: Build Custom Clients

![Moltbot API Integration](/images/articles/clawdbot-api-integration.jpg)

## API Overview

| Endpoint | Method | Purpose |
|----------|--------|---------|
| `/chat` | POST | Send message, get response |
| `/health` | GET | Check gateway status |
| `/conversations` | GET | List conversations |
| `/conversations/:id` | GET | Get conversation history |
| `/skills` | GET | List available skills |

<HostingCTA context="setup" />

## Authentication

### API Key Authentication

```bash
# Set in environment
export MOLTBOT_API_KEY="your-api-key"

# Or in config
moltbot config set gateway.auth.apiKey "your-api-key"
```

### Request Header

```bash
curl -X POST http://localhost:18789/chat \
  -H "Authorization: Bearer your-api-key" \
  -H "Content-Type: application/json" \
  -d '{"message": "Hello"}'
```

<HostingCTA context="inline" />

## Chat Endpoint

### Basic Request

```javascript
const response = await fetch('http://localhost:18789/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your-api-key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    message: 'Summarize this code',
    context: {
      files: ['src/main.js']
    }
  })
});

const data = await response.json();
console.log(data.response);
```

### Response Format

```json
{
  "id": "msg_abc123",
  "response": "The code implements...",
  "model": "claude-3-5-sonnet",
  "tokens": {
    "input": 1234,
    "output": 567
  },
  "duration": 2.3
}
```

### With Conversation Context

```javascript
// Continue existing conversation
const response = await fetch('http://localhost:18789/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your-api-key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    message: 'Now add error handling',
    conversationId: 'conv_xyz789'
  })
});
```

## Streaming Responses

### Server-Sent Events

```javascript
const eventSource = new EventSource(
  'http://localhost:18789/chat/stream?message=Explain%20recursion'
);

eventSource.onmessage = (event) => {
  const chunk = JSON.parse(event.data);
  process.stdout.write(chunk.text);
};

eventSource.onerror = () => {
  eventSource.close();
};
```

### Fetch with Streams

```javascript
const response = await fetch('http://localhost:18789/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your-api-key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    message: 'Write a long story',
    stream: true
  })
});

const reader = response.body.getReader();
const decoder = new TextDecoder();

while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  console.log(decoder.decode(value));
}
```

## Python Client

```python
import requests

class MoltbotClient:
    def __init__(self, base_url="http://localhost:18789", api_key=None):
        self.base_url = base_url
        self.headers = {
            "Content-Type": "application/json"
        }
        if api_key:
            self.headers["Authorization"] = f"Bearer {api_key}"

    def chat(self, message, conversation_id=None):
        payload = {"message": message}
        if conversation_id:
            payload["conversationId"] = conversation_id

        response = requests.post(
            f"{self.base_url}/chat",
            json=payload,
            headers=self.headers
        )
        return response.json()

    def health(self):
        response = requests.get(f"{self.base_url}/health")
        return response.json()

# Usage
client = MoltbotClient(api_key="your-key")
result = client.chat("What's the weather?")
print(result["response"])
```

## Webhook Integration

### Configure Webhooks

```json
{
  "webhooks": {
    "onMessage": "https://your-app.com/moltbot/message",
    "onError": "https://your-app.com/moltbot/error",
    "secret": "webhook-signing-secret"
  }
}
```

### Webhook Payload

```json
{
  "event": "message.received",
  "timestamp": "2026-01-28T14:30:00Z",
  "data": {
    "conversationId": "conv_123",
    "message": "User message",
    "channel": "telegram",
    "userId": "user_456"
  },
  "signature": "sha256=abc..."
}
```

### Verify Webhook Signature

```javascript
const crypto = require('crypto');

function verifyWebhook(payload, signature, secret) {
  const expected = crypto
    .createHmac('sha256', secret)
    .update(JSON.stringify(payload))
    .digest('hex');

  return `sha256=${expected}` === signature;
}

// In your webhook handler
app.post('/moltbot/message', (req, res) => {
  const isValid = verifyWebhook(
    req.body,
    req.headers['x-moltbot-signature'],
    process.env.WEBHOOK_SECRET
  );

  if (!isValid) {
    return res.status(401).send('Invalid signature');
  }

  // Process webhook
  console.log('Message:', req.body.data.message);
  res.status(200).send('OK');
});
```

## Rate Limiting

| Tier | Requests/min | Burst |
|------|--------------|-------|
| Default | 60 | 10 |
| Premium | 300 | 50 |
| Unlimited | No limit | No limit |

### Rate Limit Headers

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 45
X-RateLimit-Reset: 1706450400
```

### Handle Rate Limits

```javascript
async function chatWithRetry(message, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    const response = await fetch('http://localhost:18789/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message })
    });

    if (response.status === 429) {
      const retryAfter = response.headers.get('Retry-After') || 60;
      console.log(`Rate limited, waiting ${retryAfter}s`);
      await new Promise(r => setTimeout(r, retryAfter * 1000));
      continue;
    }

    return response.json();
  }
  throw new Error('Max retries exceeded');
}
```

## Error Handling

### Error Response Format

```json
{
  "error": {
    "code": "RATE_LIMITED",
    "message": "Too many requests",
    "retryAfter": 60
  }
}
```

### Error Codes

| Code | Meaning | Action |
|------|---------|--------|
| `UNAUTHORIZED` | Invalid API key | Check credentials |
| `RATE_LIMITED` | Too many requests | Wait and retry |
| `MODEL_ERROR` | LLM provider error | Check provider status |
| `INVALID_REQUEST` | Bad request format | Fix request payload |

## Skill Invocation

### Call Specific Skill

```javascript
const response = await fetch('http://localhost:18789/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your-api-key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    message: 'Review this PR',
    skill: 'github',
    context: {
      pr: 'owner/repo#123'
    }
  })
});
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| 401 Unauthorized | Verify API key is correct |
| 502 Bad Gateway | Check Moltbot is running |
| Timeout errors | Increase client timeout |
| Empty responses | Check model configuration |

### Debug Mode

```bash
# Enable verbose logging
moltbot gateway --verbose

# Test API directly
curl -v http://localhost:18789/health
```

## Next Steps

- [Function calling guide](/articles/clawdbot-function-calling)
- [Streaming responses](/articles/clawdbot-streaming-responses)
- [Self-hosting setup](/articles/clawdbot-self-hosting)

<HostingCTA context="conclusion" />
