---
title: "Moltbot Environment Variables: Configuration Guide [2026]"
description: "Configure Moltbot with environment variables. API keys, secrets, Docker env files, systemd, and secure configuration management."
pubDate: 2026-01-27
modifiedDate: 2026-01-29
category: "Tutorial"
tags: ["moltbot","clawdbot","environment","config","variables","secrets"]
keywords: ["moltbot environment variables","clawdbot config","api key configuration","moltbot secrets","env file", "openclaw"]
readingTime: 6
featured: false
author: "Isaac Miller"
image: "/images/articles/clawdbot-environment-variables.jpg"
imageAlt: "Moltbot Environment Variables"
articleType: "HowTo"
difficulty: "beginner"
sources:
  - "https://docs.molt.bot/"
  - "https://github.com/moltbot/moltbot"
relatedArticles:
  - "clawdbot-api-key-setup"
  - "clawdbot-docker-setup"
  - "clawdbot-security-best-practices"
---
import HostingCTA from '../../components/CTA/HostingCTA.astro';

# Moltbot Environment Variables: Configuration Guide

![Moltbot Environment Variables](/images/articles/clawdbot-environment-variables.jpg)

## Required Variables

| Variable | Purpose | Example |
|----------|---------|---------|
| `ANTHROPIC_API_KEY` | Claude API access | `sk-ant-api03-...` |
| `OPENAI_API_KEY` | OpenAI API access | `sk-proj-...` |
| `TELEGRAM_BOT_TOKEN` | Telegram bot | `123456:ABC...` |
| `DISCORD_BOT_TOKEN` | Discord bot | `MTI...` |

<HostingCTA context="setup" />

## Setting Variables

### Shell (Temporary)

```bash
export ANTHROPIC_API_KEY="sk-ant-api03-..."
export TELEGRAM_BOT_TOKEN="123456:ABC-DEF..."
moltbot gateway
```

### Shell Profile (Persistent)

```bash
# Add to ~/.bashrc or ~/.zshrc
echo 'export ANTHROPIC_API_KEY="sk-ant-api03-..."' >> ~/.zshrc
source ~/.zshrc
```

<HostingCTA context="inline" />

## .env File

Create `.env` in your Moltbot directory:

```bash
# ~/.moltbot/.env

# AI Providers
ANTHROPIC_API_KEY=sk-ant-api03-...
OPENAI_API_KEY=sk-proj-...

# Messaging Channels
TELEGRAM_BOT_TOKEN=123456:ABC-DEF...
DISCORD_BOT_TOKEN=MTI3NzM4...

# Gateway
MOLTBOT_PORT=18789
MOLTBOT_BIND=loopback

# Optional
MOLTBOT_LOG_LEVEL=info
MOLTBOT_DEBUG=false
```

Load automatically:
```bash
moltbot gateway  # Loads .env from ~/.moltbot/
```

## All Variables Reference

### AI Providers

| Variable | Description |
|----------|-------------|
| `ANTHROPIC_API_KEY` | Anthropic/Claude API key |
| `OPENAI_API_KEY` | OpenAI API key |
| `GOOGLE_API_KEY` | Google Gemini API key |
| `GROQ_API_KEY` | Groq API key |
| `OLLAMA_HOST` | Ollama server URL |

### Messaging Channels

| Variable | Description |
|----------|-------------|
| `TELEGRAM_BOT_TOKEN` | Telegram bot token |
| `DISCORD_BOT_TOKEN` | Discord bot token |
| `SLACK_BOT_TOKEN` | Slack bot token |
| `SLACK_APP_TOKEN` | Slack app token |

### Gateway Settings

| Variable | Default | Description |
|----------|---------|-------------|
| `MOLTBOT_PORT` | 18789 | Gateway port |
| `MOLTBOT_BIND` | loopback | Bind address |
| `MOLTBOT_CONFIG` | ~/.moltbot | Config directory |
| `MOLTBOT_LOG_LEVEL` | info | Log level |

### Feature Flags

| Variable | Default | Description |
|----------|---------|-------------|
| `MOLTBOT_DEBUG` | false | Debug mode |
| `MOLTBOT_TELEMETRY` | true | Anonymous usage |
| `MOLTBOT_AUTO_UPDATE` | true | Auto update check |

## Docker Configuration

### docker-compose.yml

```yaml
services:
  moltbot:
    image: moltbot/moltbot:latest
    env_file:
      - .env
    environment:
      - MOLTBOT_PORT=18789
      - MOLTBOT_BIND=0.0.0.0
```

### Docker Run

```bash
docker run -d \
  -e ANTHROPIC_API_KEY="sk-ant-..." \
  -e TELEGRAM_BOT_TOKEN="123456:ABC..." \
  moltbot/moltbot:latest
```

## systemd Service

```ini
# /etc/systemd/system/moltbot.service
[Unit]
Description=Moltbot AI Gateway
After=network.target

[Service]
Type=simple
User=moltbot
EnvironmentFile=/etc/moltbot/env
ExecStart=/usr/bin/moltbot gateway
Restart=always

[Install]
WantedBy=multi-user.target
```

Create environment file:
```bash
# /etc/moltbot/env
ANTHROPIC_API_KEY=sk-ant-...
TELEGRAM_BOT_TOKEN=123456:ABC...
```

Secure the file:
```bash
sudo chmod 600 /etc/moltbot/env
sudo chown moltbot:moltbot /etc/moltbot/env
```

## Config File Variables

Reference environment variables in `moltbot.json`:

```json
{
  "agent": {
    "provider": "anthropic",
    "apiKey": "${ANTHROPIC_API_KEY}"
  },
  "channels": {
    "telegram": {
      "token": "${TELEGRAM_BOT_TOKEN}"
    }
  }
}
```

## Secret Management

### Using 1Password CLI

```bash
# Set from 1Password
export ANTHROPIC_API_KEY=$(op read "op://Private/Anthropic/API Key")
```

### Using AWS Secrets Manager

```bash
# Fetch from AWS
export ANTHROPIC_API_KEY=$(aws secretsmanager get-secret-value \
  --secret-id moltbot/anthropic \
  --query SecretString --output text)
```

### Using Doppler

```bash
doppler run -- moltbot gateway
```

## Verify Configuration

```bash
moltbot doctor
```

Output:
```
üîç Environment Check

API Keys:
‚îú‚îÄ ANTHROPIC_API_KEY: ‚úÖ Set (sk-ant-...xxx)
‚îú‚îÄ OPENAI_API_KEY: ‚ö†Ô∏è Not set
‚îú‚îÄ TELEGRAM_BOT_TOKEN: ‚úÖ Set (123456:...)
‚îî‚îÄ DISCORD_BOT_TOKEN: ‚úÖ Set (MTI7...)

Configuration:
‚îú‚îÄ Config directory: ~/.moltbot
‚îú‚îÄ Port: 18789
‚îú‚îÄ Bind: loopback
‚îî‚îÄ Log level: info

Status: Ready to start
```

## Security Best Practices

| Practice | Why |
|----------|-----|
| Never commit .env | Prevents credential leaks |
| Use 600 permissions | Restricts file access |
| Rotate keys regularly | Limits exposure window |
| Use secret managers | Centralized, audited |

### .gitignore

```gitignore
# Always ignore
.env
.env.local
.env.*.local
*.key
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Key not found | Check variable name spelling |
| Key invalid | Regenerate from provider |
| Permission denied | Check file permissions |
| Not loading | Verify .env location |

### Debug Variables

```bash
# Show loaded variables
moltbot config show --env

# Test specific variable
echo $ANTHROPIC_API_KEY | head -c 20
```

## Next Steps

- [API key setup](/articles/clawdbot-api-key-setup)
- [Docker configuration](/articles/clawdbot-docker-setup)
- [Security best practices](/articles/clawdbot-security-best-practices)

<HostingCTA context="conclusion" />
