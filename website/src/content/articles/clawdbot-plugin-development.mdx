---
title: "Moltbot Plugins: Build Custom Extensions [2026]"
description: "Develop plugins for Moltbot. Learn plugin architecture, custom tools, hooks, lifecycle events, and how to distribute your extensions."
pubDate: 2026-01-27
modifiedDate: 2026-01-29
category: "Advanced"
tags: ["moltbot","clawdbot","plugins","development","extensions","customization"]
keywords: ["moltbot plugins","clawdbot extensions","custom tools","plugin development","moltbot sdk", "openclaw"]
readingTime: 9
featured: false
author: "Moltbot Team"
image: "/images/articles/clawdbot-plugin-development.jpg"
imageAlt: "Moltbot Plugin Development"
articleType: "TechArticle"
difficulty: "advanced"
sources:
  - "https://docs.molt.bot/"
  - "https://github.com/moltbot/moltbot"
relatedArticles:
  - "clawdbot-function-calling"
  - "clawdbot-api-integration"
  - "clawdbot-custom-skills"
---
import HostingCTA from '../../components/CTA/HostingCTA.astro';

# Moltbot Plugins: Build Custom Extensions

![Moltbot Plugin Development](/images/articles/clawdbot-plugin-development.jpg)

## Plugin Types

| Type | Purpose | Complexity |
|------|---------|------------|
| Tool | Add new capabilities | Low |
| Channel | New messaging platform | Medium |
| Provider | New AI model | Medium |
| Middleware | Request/response processing | High |

<HostingCTA context="setup" />

## Plugin Structure

```
my-plugin/
├── package.json
├── index.js
├── manifest.json
├── tools/
│   └── my-tool.js
└── README.md
```

### manifest.json

```json
{
  "name": "my-plugin",
  "version": "1.0.0",
  "description": "Custom plugin for Moltbot",
  "author": "Your Name",
  "license": "MIT",
  "moltbot": {
    "minVersion": "2.0.0",
    "type": "tool",
    "permissions": ["network", "storage"]
  },
  "entry": "index.js"
}
```

<HostingCTA context="inline" />

## Create a Tool Plugin

### Tool Definition

```javascript
// tools/weather.js
export default {
  name: 'get_weather',
  description: 'Get current weather for a location',
  parameters: {
    type: 'object',
    properties: {
      location: {
        type: 'string',
        description: 'City name or coordinates'
      },
      units: {
        type: 'string',
        enum: ['celsius', 'fahrenheit'],
        default: 'celsius'
      }
    },
    required: ['location']
  },

  async execute({ location, units = 'celsius' }, context) {
    const response = await fetch(
      `https://api.weather.service/v1/current?q=${location}&units=${units}`,
      {
        headers: {
          'Authorization': `Bearer ${context.config.apiKey}`
        }
      }
    );

    const data = await response.json();

    return {
      temperature: data.temp,
      conditions: data.conditions,
      humidity: data.humidity,
      wind: data.wind
    };
  }
};
```

### Plugin Entry

```javascript
// index.js
import weatherTool from './tools/weather.js';

export default {
  name: 'weather-plugin',
  version: '1.0.0',

  tools: [weatherTool],

  async onLoad(context) {
    console.log('Weather plugin loaded');
  },

  async onUnload(context) {
    console.log('Weather plugin unloaded');
  }
};
```

## Install Plugin

```bash
# From npm
moltbot plugins install @moltbot/weather-plugin

# From local path
moltbot plugins install ./my-plugin

# From GitHub
moltbot plugins install github:username/moltbot-weather
```

### Configuration

```json
{
  "plugins": {
    "weather-plugin": {
      "enabled": true,
      "config": {
        "apiKey": "${WEATHER_API_KEY}",
        "defaultUnits": "celsius"
      }
    }
  }
}
```

## Lifecycle Hooks

```javascript
export default {
  name: 'my-plugin',

  // Called when plugin loads
  async onLoad(context) {
    await this.initializeDatabase(context);
  },

  // Called when plugin unloads
  async onUnload(context) {
    await this.cleanup();
  },

  // Called before each request
  async beforeRequest(request, context) {
    request.metadata.pluginData = { timestamp: Date.now() };
    return request;
  },

  // Called after each response
  async afterResponse(response, context) {
    await this.logResponse(response);
    return response;
  },

  // Called on errors
  async onError(error, context) {
    await this.reportError(error);
  }
};
```

## Context Object

```javascript
async execute(params, context) {
  // User information
  const userId = context.user.id;
  const channel = context.channel.type; // telegram, discord, etc.

  // Configuration
  const apiKey = context.config.apiKey;

  // Services
  await context.storage.set('key', 'value');
  const value = await context.storage.get('key');

  // Logging
  context.logger.info('Processing request');
  context.logger.error('Something went wrong');

  // Other tools
  const searchResults = await context.tools.call('web_search', {
    query: 'example'
  });

  return { success: true };
}
```

## Channel Plugin

```javascript
// channels/custom-channel.js
export default {
  name: 'custom-channel',
  type: 'channel',

  async connect(config) {
    this.client = new CustomClient(config.token);
    await this.client.connect();

    this.client.on('message', (msg) => {
      this.emit('message', {
        id: msg.id,
        text: msg.content,
        userId: msg.author.id,
        channelId: msg.channel.id
      });
    });
  },

  async disconnect() {
    await this.client.disconnect();
  },

  async sendMessage(channelId, content) {
    await this.client.send(channelId, content);
  },

  async editMessage(messageId, content) {
    await this.client.edit(messageId, content);
  }
};
```

## Middleware Plugin

```javascript
export default {
  name: 'rate-limit-middleware',
  type: 'middleware',

  async process(request, next) {
    const userId = request.user.id;
    const count = await this.getRequestCount(userId);

    if (count > this.config.maxRequests) {
      return {
        error: 'Rate limit exceeded',
        retryAfter: 60
      };
    }

    await this.incrementCount(userId);

    // Continue to next middleware/handler
    const response = await next(request);

    // Post-process response
    response.headers['X-RateLimit-Remaining'] =
      this.config.maxRequests - count - 1;

    return response;
  }
};
```

## Storage API

```javascript
// Key-value storage
await context.storage.set('user:123:prefs', { theme: 'dark' });
const prefs = await context.storage.get('user:123:prefs');
await context.storage.delete('user:123:prefs');

// List operations
await context.storage.lpush('queue', 'item1');
const item = await context.storage.rpop('queue');

// Expiring data
await context.storage.set('session:abc', data, { ttl: 3600 });
```

## Testing Plugins

### Unit Tests

```javascript
// tests/weather.test.js
import { describe, it, expect } from 'vitest';
import weatherTool from '../tools/weather.js';

describe('Weather Tool', () => {
  it('should fetch weather data', async () => {
    const context = {
      config: { apiKey: 'test-key' },
      logger: console
    };

    const result = await weatherTool.execute(
      { location: 'Tokyo' },
      context
    );

    expect(result).toHaveProperty('temperature');
    expect(result).toHaveProperty('conditions');
  });
});
```

### Integration Tests

```bash
# Test plugin locally
moltbot plugins test ./my-plugin

# Test specific tool
moltbot tools test get_weather --params '{"location": "Tokyo"}'
```

## Publishing

### npm

```bash
cd my-plugin
npm publish --access public
```

### Moltbot Registry

```bash
moltbot plugins publish
```

### package.json

```json
{
  "name": "@moltbot/weather-plugin",
  "version": "1.0.0",
  "keywords": ["moltbot", "moltbot-plugin", "weather"],
  "peerDependencies": {
    "moltbot": "^2.0.0"
  }
}
```

## Plugin Management

```bash
# List installed plugins
moltbot plugins list

# Update plugin
moltbot plugins update weather-plugin

# Remove plugin
moltbot plugins remove weather-plugin

# Enable/disable
moltbot plugins disable weather-plugin
moltbot plugins enable weather-plugin
```

## Troubleshooting

| Issue | Cause | Solution |
|-------|-------|----------|
| Plugin not loading | Wrong entry point | Check manifest.json |
| Permission denied | Missing permission | Add to manifest |
| Tool not found | Not exported | Check exports |
| Config not available | Wrong key | Verify config path |

### Debug Plugin

```bash
# Verbose loading
moltbot gateway --debug-plugins

# View plugin logs
moltbot logs --filter "plugin=weather"

# Validate manifest
moltbot plugins validate ./my-plugin
```

## Next Steps

- [Function calling](/articles/clawdbot-function-calling)
- [API integration](/articles/clawdbot-api-integration)
- [Custom skills](/articles/clawdbot-custom-skills)

<HostingCTA context="conclusion" />
