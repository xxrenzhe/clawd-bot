---
title: "Add RAG to Moltbot in 30 Minutes [2026 Tutorial]"
description: "Implement RAG with Moltbot. Vector stores, embeddings, document ingestion, semantic search, and retrieval-augmented generation setup."
pubDate: 2026-01-27
modifiedDate: 2026-01-29
category: "Advanced"
tags: ["moltbot","clawdbot","rag","retrieval","knowledge base","vector search"]
keywords: ["moltbot rag","clawdbot rag implementation","retrieval augmented generation","ai knowledge base","vector embeddings", "openclaw"]
readingTime: 9
featured: false
author: "Maya Thompson"
image: "/images/articles/clawdbot-rag-implementation.jpg"
imageAlt: "Moltbot RAG Implementation"
articleType: "TechArticle"
difficulty: "advanced"
sources:
  - "https://docs.molt.bot/"
  - "https://github.com/moltbot/moltbot"
relatedArticles:
  - "clawdbot-embeddings"
  - "clawdbot-database-integration"
  - "clawdbot-context-management"
---
import HostingCTA from '../../components/CTA/HostingCTA.astro';

# Add RAG to Moltbot in 30 Minutes

![Moltbot RAG Implementation](/images/articles/clawdbot-rag-implementation.jpg)

## RAG Overview

| Component | Purpose | Options |
|-----------|---------|---------|
| Embeddings | Convert text to vectors | OpenAI, Ollama, local |
| Vector Store | Store and search vectors | ChromaDB, Pinecone, pgvector |
| Retriever | Find relevant documents | Top-k, MMR, threshold |
| Generator | Create responses | Claude, GPT-4, Llama |

<HostingCTA context="setup" />

## Enable RAG

```json
{
  "agent": {
    "rag": {
      "enabled": true,
      "vectorStore": "chroma",
      "embeddings": "openai",
      "topK": 5,
      "minScore": 0.7
    }
  }
}
```

<HostingCTA context="inline" />

## Vector Store Setup

### ChromaDB (Local)

```bash
# Install ChromaDB
pip install chromadb

# Start server
chroma run --path ~/.moltbot/chroma
```

Configure Moltbot:
```json
{
  "agent": {
    "rag": {
      "vectorStore": {
        "type": "chroma",
        "path": "~/.moltbot/chroma",
        "collection": "documents"
      }
    }
  }
}
```

### Pinecone (Cloud)

```json
{
  "agent": {
    "rag": {
      "vectorStore": {
        "type": "pinecone",
        "apiKey": "${PINECONE_API_KEY}",
        "environment": "us-east-1",
        "index": "moltbot-docs"
      }
    }
  }
}
```

### PostgreSQL + pgvector

```json
{
  "agent": {
    "rag": {
      "vectorStore": {
        "type": "pgvector",
        "connectionString": "${DATABASE_URL}",
        "table": "embeddings"
      }
    }
  }
}
```

## Document Ingestion

### Add Documents

```bash
# Add single file
moltbot rag add ~/documents/manual.pdf

# Add directory
moltbot rag add ~/knowledge --recursive

# Add with metadata
moltbot rag add ~/docs/api.md --tags "api,reference" --source "internal"
```

### Supported Formats

| Format | Extension | Notes |
|--------|-----------|-------|
| Markdown | .md | Headers become sections |
| PDF | .pdf | OCR for scanned docs |
| Text | .txt | Plain text |
| HTML | .html | Stripped of tags |
| Code | .py, .js, etc | Language-aware chunking |
| DOCX | .docx | Microsoft Word |

### Chunking Strategies

```json
{
  "agent": {
    "rag": {
      "chunking": {
        "strategy": "semantic",
        "maxTokens": 512,
        "overlap": 50,
        "preserveHeaders": true
      }
    }
  }
}
```

Chunking options:
- `fixed`: Fixed token size
- `semantic`: Split at natural boundaries
- `recursive`: Hierarchical splitting
- `code`: Language-aware for source code

## Embeddings Configuration

### OpenAI

```json
{
  "agent": {
    "rag": {
      "embeddings": {
        "provider": "openai",
        "model": "text-embedding-3-small",
        "dimensions": 1536
      }
    }
  }
}
```

### Local with Ollama

```json
{
  "agent": {
    "rag": {
      "embeddings": {
        "provider": "ollama",
        "model": "nomic-embed-text",
        "host": "http://localhost:11434"
      }
    }
  }
}
```

### Cost Comparison

| Provider | Model | Cost per 1M tokens |
|----------|-------|-------------------|
| OpenAI | text-embedding-3-small | $0.02 |
| OpenAI | text-embedding-3-large | $0.13 |
| Ollama | nomic-embed-text | Free (local) |
| Cohere | embed-english-v3 | $0.10 |

## Retrieval Settings

### Basic Retrieval

```json
{
  "agent": {
    "rag": {
      "retrieval": {
        "topK": 5,
        "minScore": 0.7,
        "includeMetadata": true
      }
    }
  }
}
```

### Maximum Marginal Relevance (MMR)

Reduces redundancy in results:

```json
{
  "agent": {
    "rag": {
      "retrieval": {
        "method": "mmr",
        "topK": 10,
        "diversityFactor": 0.3
      }
    }
  }
}
```

### Hybrid Search

Combine semantic and keyword search:

```json
{
  "agent": {
    "rag": {
      "retrieval": {
        "method": "hybrid",
        "semantic": { "weight": 0.7 },
        "keyword": { "weight": 0.3 }
      }
    }
  }
}
```

## RAG Pipeline Flow

```
User Query
    ‚Üì
[Embed Query] ‚Üí Vector representation
    ‚Üì
[Search Vector Store] ‚Üí Top-k similar documents
    ‚Üì
[Rerank Results] ‚Üí Sort by relevance
    ‚Üì
[Build Context] ‚Üí Combine with system prompt
    ‚Üì
[Generate Response] ‚Üí LLM creates answer
    ‚Üì
[Return with Sources] ‚Üí Include citations
```

## Query with RAG

```
You: What's our refund policy?

Moltbot: Based on our documentation:

**Refund Policy Summary:**
- Full refund within 30 days of purchase
- Partial refund (50%) within 31-60 days
- No refunds after 60 days

Exceptions:
- Digital products are non-refundable once downloaded
- Custom orders require manager approval

üìö Sources:
- policies/refunds.md (section: General Policy)
- faq/billing.md (section: Refund Questions)
```

## Collection Management

### List Collections

```bash
moltbot rag collections list
```

### Create Collection

```bash
moltbot rag collections create product-docs --description "Product documentation"
```

### Query Specific Collection

```json
{
  "agent": {
    "rag": {
      "defaultCollection": "product-docs",
      "collections": {
        "product-docs": { "description": "Product documentation" },
        "support-kb": { "description": "Support knowledge base" }
      }
    }
  }
}
```

## RAG Statistics

```bash
moltbot rag stats
```

Output:
```
üìä RAG Statistics

Collections: 3
‚îú‚îÄ product-docs: 1,234 chunks (45 documents)
‚îú‚îÄ support-kb: 567 chunks (23 documents)
‚îî‚îÄ internal: 890 chunks (12 documents)

Total:
‚îú‚îÄ Documents: 80
‚îú‚îÄ Chunks: 2,691
‚îú‚îÄ Embeddings: 2,691
‚îî‚îÄ Storage: 156 MB

Last updated: 2026-01-28 14:30
```

## Incremental Updates

### Watch Directory

```json
{
  "agent": {
    "rag": {
      "watch": {
        "enabled": true,
        "paths": ["~/docs"],
        "debounce": 5000
      }
    }
  }
}
```

### Manual Sync

```bash
# Update changed files only
moltbot rag sync

# Force full reindex
moltbot rag reindex --force
```

## Performance Optimization

### Caching

```json
{
  "agent": {
    "rag": {
      "cache": {
        "enabled": true,
        "queryCache": 1000,
        "embeddingCache": 5000,
        "ttl": 3600
      }
    }
  }
}
```

### Batch Processing

```bash
# Batch ingest for large document sets
moltbot rag add ~/large-docs --batch-size 100 --parallel 4
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Low relevance scores | Adjust chunking size |
| Missing documents | Check file format support |
| Slow queries | Add query caching |
| Outdated results | Enable watch mode |
| High token usage | Reduce topK value |

### Debug Queries

```bash
# Show retrieval details
moltbot rag query "refund policy" --debug

# Test without generation
moltbot rag search "refund policy" --limit 10
```

## Introduction

Add RAG to Moltbot in 30 Minutes matters because it shapes how teams design reliable AI workflows and measure outcomes.
This guide explains the essentials and shows how Moltbot users can apply the ideas in a repeatable way.
You will get a clear path from prerequisites to practical steps, with examples, safeguards, and next steps.

## Prerequisites

| Requirement | Details |
|---|---|
| Node.js | 22+ (check: node --version) |
| OS | macOS, Linux, Windows (via WSL2) |
| Memory | 2GB RAM minimum (4GB+ recommended for browser automation) |
| Storage | 500MB for installation |

If you are already running Moltbot, you can skip installation and focus on configuration and workflows.

## How to apply this topic

> ‚ö†Ô∏è Review install scripts before running them in production. Avoid committing API keys or secrets to version control.

1. Install and onboard if you are new to the platform.
```bash
curl -fsSL https://clawd.bot/install.sh | bash
clawdbot onboard
clawdbot health
```

2. Start the gateway and confirm it is reachable locally.
```bash
clawdbot gateway --port 18789 --verbose
```

3. Connect one messaging channel and run a small workflow end-to-end.
Keep the scope small, measure latency, and expand only after you confirm stable behavior.

## References

- [Official documentation](https://docs.openclaw.ai/)
- [Source repository](https://github.com/clawdbot/clawdbot)

## Next Steps

- [Embeddings deep dive](/articles/clawdbot-embeddings)
- [Database integration](/articles/clawdbot-database-integration)
- [Context management](/articles/clawdbot-context-management)

<HostingCTA context="conclusion" />

## Additional Notes

Moltbot workflows work best when you keep inputs tight and outputs measurable.
Define success criteria for add rag to moltbot in 30 minutes before you automate anything significant.

For teams, document configuration changes and run clawdbot doctor after major edits.
This keeps the gateway stable and reduces debugging time when scaling up.

Key reminders:
- Keep tokens and passwords out of version control.
- Validate the gateway locally before exposing it.
- Roll out new skills in small batches and monitor logs.
- Re-check allow-lists after any channel changes.


Moltbot workflows work best when you keep inputs tight and outputs measurable.
Define success criteria for add rag to moltbot in 30 minutes before you automate anything significant.

For teams, document configuration changes and run clawdbot doctor after major edits.
This keeps the gateway stable and reduces debugging time when scaling up.

Key reminders:
- Keep tokens and passwords out of version control.
- Validate the gateway locally before exposing it.
- Roll out new skills in small batches and monitor logs.
- Re-check allow-lists after any channel changes.


Moltbot workflows work best when you keep inputs tight and outputs measurable.
Define success criteria for add rag to moltbot in 30 minutes before you automate anything significant.

For teams, document configuration changes and run clawdbot doctor after major edits.
This keeps the gateway stable and reduces debugging time when scaling up.

Key reminders:
- Keep tokens and passwords out of version control.
- Validate the gateway locally before exposing it.
- Roll out new skills in small batches and monitor logs.
- Re-check allow-lists after any channel changes.


Moltbot workflows work best when you keep inputs tight and outputs measurable.
Define success criteria for add rag to moltbot in 30 minutes before you automate anything significant.

For teams, document configuration changes and run clawdbot doctor after major edits.
This keeps the gateway stable and reduces debugging time when scaling up.

Key reminders:
- Keep tokens and passwords out of version control.
- Validate the gateway locally before exposing it.
- Roll out new skills in small batches and monitor logs.
- Re-check allow-lists after any channel changes.


Moltbot workflows work best when you keep inputs tight and outputs measurable.
Define success criteria for add rag to moltbot in 30 minutes before you automate anything significant.

For teams, document configuration changes and run clawdbot doctor after major edits.
This keeps the gateway stable and reduces debugging time when scaling up.

Key reminders:
- Keep tokens and passwords out of version control.
- Validate the gateway locally before exposing it.
- Roll out new skills in small batches and monitor logs.
- Re-check allow-lists after any channel changes.