---
title: "Moltbot Config Version Control: Git Best Practices [2026]"
description: "Version control Moltbot configurations. Git workflows, secret management, environment configs, and deployment automation."
pubDate: 2026-01-27
modifiedDate: 2026-01-29
category: "Best Practices"
tags: ["moltbot","clawdbot","version-control","git","configuration","devops"]
keywords: ["moltbot git","clawdbot version control","config management","git workflow","infrastructure as code"]
readingTime: 7
featured: false
author: "Moltbot Team"
image: "/images/articles/clawdbot-version-control.jpg"
imageAlt: "Moltbot Version Control"
articleType: "TechArticle"
difficulty: "intermediate"
sources:
  - "https://docs.molt.bot/"
  - "https://github.com/moltbot/moltbot"
relatedArticles:
  - "clawdbot-devops-workflows"
  - "clawdbot-docker-setup"
  - "clawdbot-backup-restore"
---
import HostingCTA from '../../components/CTA/HostingCTA.astro';

# Moltbot Config Version Control: Git Best Practices

![Moltbot Version Control](/images/articles/clawdbot-version-control.jpg)

## What to Version Control

| Include | Exclude |
|---------|---------|
| moltbot.json | .env files |
| skills/*.js | *.key files |
| prompts/ | secrets.json |
| docker-compose.yml | memory.db |

<HostingCTA context="setup" />

## Repository Structure

```
moltbot-config/
├── .gitignore
├── README.md
├── config/
│   ├── moltbot.json
│   ├── moltbot.dev.json
│   └── moltbot.prod.json
├── skills/
│   ├── daily-standup.js
│   └── weekly-report.js
├── prompts/
│   └── system-prompts.json
├── docker-compose.yml
└── scripts/
    ├── deploy.sh
    └── backup.sh
```

<HostingCTA context="inline" />

## .gitignore

```gitignore
# Secrets - NEVER commit these
.env
.env.*
secrets.json
*.key
*.pem

# Runtime data
memory/
data/
logs/
*.db
*.sqlite

# Cache
.cache/
node_modules/

# OS files
.DS_Store
Thumbs.db
```

## Secret Management

### Environment Variables

```json
// moltbot.json - reference env vars
{
  "agent": {
    "apiKey": "${ANTHROPIC_API_KEY}"
  },
  "channels": {
    "telegram": {
      "token": "${TELEGRAM_BOT_TOKEN}"
    }
  }
}
```

### .env.example

Commit a template:

```bash
# .env.example (committed)
ANTHROPIC_API_KEY=sk-ant-your-key-here
TELEGRAM_BOT_TOKEN=123456:ABC-your-token
GATEWAY_PASSWORD=change-this-password
```

### Secret Providers

```json
{
  "secrets": {
    "provider": "vault",
    "config": {
      "address": "https://vault.example.com",
      "path": "secret/moltbot"
    }
  }
}
```

## Environment Configs

### Base + Override Pattern

```json
// config/moltbot.json (base)
{
  "agent": {
    "provider": "anthropic",
    "model": "claude-sonnet-4-20250514"
  },
  "gateway": {
    "bind": "loopback"
  }
}
```

```json
// config/moltbot.prod.json (override)
{
  "extends": "./moltbot.json",
  "gateway": {
    "bind": "0.0.0.0",
    "workers": 4
  }
}
```

### Deployment

```bash
# Development
moltbot gateway --config config/moltbot.dev.json

# Production
moltbot gateway --config config/moltbot.prod.json
```

## Git Workflow

### Branch Strategy

| Branch | Purpose |
|--------|---------|
| `main` | Production config |
| `develop` | Staging config |
| `feature/*` | New skills/configs |

### Pull Request Template

```markdown
## Config Change

### What changed
- Updated system prompt for code review skill

### Testing
- [ ] Tested in development
- [ ] No secrets committed
- [ ] Config validation passed

### Rollback
Previous commit: abc1234
```

## Validation

### Pre-commit Hook

```bash
#!/bin/sh
# .git/hooks/pre-commit

# Check for secrets
if git diff --cached | grep -E "(sk-ant-|API_KEY=)" > /dev/null; then
  echo "ERROR: Potential secret detected!"
  exit 1
fi

# Validate config
moltbot config validate || exit 1
```

### CI Validation

```yaml
# .github/workflows/validate.yml
name: Validate Config
on: [push, pull_request]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install Moltbot
        run: npm install -g moltbot

      - name: Validate configs
        run: |
          moltbot config validate config/moltbot.json
          moltbot config validate config/moltbot.prod.json

      - name: Check for secrets
        run: |
          if grep -r "sk-ant-" . --include="*.json"; then
            echo "Secrets found!"
            exit 1
          fi
```

## Deployment Automation

### Deploy Script

```bash
#!/bin/bash
# scripts/deploy.sh

set -e

# Pull latest config
git pull origin main

# Validate
moltbot config validate config/moltbot.prod.json

# Backup current state
moltbot backup create

# Apply new config
moltbot config apply config/moltbot.prod.json

# Restart gateway
moltbot gateway restart

# Verify
moltbot health
```

### Rollback

```bash
#!/bin/bash
# scripts/rollback.sh

PREVIOUS_COMMIT=$1

git checkout $PREVIOUS_COMMIT -- config/
moltbot config apply config/moltbot.prod.json
moltbot gateway restart
```

## Troubleshooting

| Issue | Cause | Solution |
|-------|-------|----------|
| Secret committed | Not in .gitignore | Rotate secret, update .gitignore |
| Config conflict | Merge issue | Review both versions carefully |
| Validation fails | Schema change | Update config to new format |
| Deploy fails | Missing env var | Check environment configuration |

<HostingCTA context="conclusion" />
